<ion-header>
    <ion-toolbar>
        <ion-title>
            {{title}}
        </ion-title>
        <ion-buttons start>
            <button ion-button (click)="dismiss()">
                <span ion-text color="primary" showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <form [formGroup]="frm" (submit)="submit()" novalidate>
        <ion-list>
            <ion-item>
                <ion-label color="primary">Nombre</ion-label>
                <ion-input formControlName="name" type="text" placeholder="Nombre" [class.invalid]="!frm.controls.name.valid && frm.controls.name.dirty">
                </ion-input>                
            </ion-item>
            <app-field-error-display [displayError]="_validator.isFieldValid('name', frm).error" [errorMsg]="_validator.isFieldValid('name', frm).messageError">
            </app-field-error-display>
            <ion-item>
                <ion-label color="primary">Apellido</ion-label>
                <ion-input formControlName="lastname" type="text" placeholder="Apellido" [class.invalid]="!frm.controls.lastname.valid && frm.controls.lastname.dirty">
                </ion-input>
            </ion-item>
            <app-field-error-display [displayError]="_validator.isFieldValid('lastname', frm).error" [errorMsg]="_validator.isFieldValid('lastname', frm).messageError">
            </app-field-error-display>
            <ion-item>
                <ion-label color="primary">Apodo</ion-label>
                <ion-input formControlName="username" type="text" placeholder="Apodo" [class.invalid]="!frm.controls.username.valid && frm.controls.username.dirty">
                </ion-input>
            </ion-item>
            <app-field-error-display [displayError]="_validator.isFieldValid('username', frm).error" [errorMsg]="_validator.isFieldValid('username', frm).messageError">
            </app-field-error-display>
            <ion-item>
                <ion-label color="primary">Email</ion-label>
                <ion-input formControlName="email" type="text" placeholder="Email" [class.invalid]="!frm.controls.email.valid && frm.controls.email.dirty">
                </ion-input>
            </ion-item>
            <app-field-error-display [displayError]="_validator.isFieldValid('email', frm).error" [errorMsg]="_validator.isFieldValid('email', frm).messageError">
            </app-field-error-display>
            <ion-item>
                <ion-label color="primary">Contraseña</ion-label>
                <ion-input formControlName="password" type="password" placeholder="Contraseña" [class.invalid]="!frm.controls.password.valid && frm.controls.password.dirty">
                </ion-input>
            </ion-item>
            <app-field-error-display [displayError]="_validator.isFieldValid('password', frm).error" [errorMsg]="_validator.isFieldValid('password', frm).messageError">
            </app-field-error-display>
            <button ion-button block type="submit">
                Guardar
            </button>
        </ion-list>
    </form>
</ion-content>